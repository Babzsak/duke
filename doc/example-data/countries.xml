
<duke>
  <object class="no.priv.garshol.duke.comparators.NumericComparator"
          name="AreaComparator">
    <param name="min-ratio" value="0.7"/>
  </object>
  
  <!--schema>
    <threshold>0.7</threshold>

    <property type="id">
      <name>ID</name>
    </property>

    <property>
      <name>NAME</name> 
      <comparator>no.priv.garshol.duke.comparators.Levenshtein</comparator>
      <low>0.3</low>
      <high>0.88</high>
    </property>    
    <property>
      <name>AREA</name> 
      <comparator>AreaComparator</comparator>
      <low>0.2</low>
      <high>0.6</high>
    </property>
    <property>
      <name>CAPITAL</name> 
      <comparator>no.priv.garshol.duke.comparators.Levenshtein</comparator>
      <low>0.4</low>
      <high>0.88</high>
    </property>    
  </schema-->

  <!-- 0.9788235 -->
  <!--schema>
    <threshold>0.45</threshold>

    <property type="id">
      <name>ID</name>
    </property>

    <property>
      <name>NAME</name> 
      <comparator>no.priv.garshol.duke.comparators.PersonNameComparator</comparator>
      <low>0.36</low>
      <high>0.76</high>
    </property>    
    <property>
      <name>AREA</name> 
      <comparator>no.priv.garshol.duke.comparators.NumericComparator</comparator>
      <low>0.33</low>
      <high>0.73</high>
    </property>
    <property>
      <name>CAPITAL</name> 
      <comparator>no.priv.garshol.duke.comparators.ExactComparator</comparator>
      <low>0.13</low>
      <high>0.51</high>
    </property>    
  </schema-->

  <!-- 0.95962 -->
  <schema>
    <threshold>0.63</threshold>

    <property type="id">
      <name>ID</name>
    </property>

    <property>
      <name>NAME</name> 
      <comparator>no.priv.garshol.duke.comparators.JaroWinklerTokenized</comparator>
      <low>0.09</low>
      <high>0.93</high>
    </property>    
    <property>
      <name>AREA</name> 
      <comparator>no.priv.garshol.duke.comparators.NumericComparator</comparator>
      <low>0.04</low>
      <high>0.83</high>
    </property>
    <property>
      <name>CAPITAL</name> 
      <comparator>no.priv.garshol.duke.comparators.Levenshtein</comparator>
      <low>0.12</low>
      <high>0.61</high>
    </property>    
  </schema>
  
  <!--sparql>
    <param name="endpoint" value="http://dbpedia.org/sparql"/>
    <param name="triple-mode" value="false"/>
    <param name="query" value='
PREFIX dbprop: &lt;http://dbpedia.org/property/>
PREFIX dbowl: &lt;http://dbpedia.org/ontology/>
SELECT DISTINCT ?country ?name ?area ?capitalname
WHERE 
{  ?country rdf:type dbpedia-owl:Country;
     dbprop:commonName ?name ;
     dbprop:areaKm ?area ;
     dbowl:capital ?capital .
   ?capital rdfs:label ?capitalname .
   OPTIONAL {?country dbpprop:yearEnd ?yearEnd}
   FILTER (!bound(?yearEnd))
   FILTER (lang(?capitalname) = "en")
}    '/>

    <column name="country"
            property="ID"/>
    <column name="name"
            cleaner="no.priv.garshol.duke.LowerCaseNormalizeCleaner"
            property="NAME"/>
  </sparql-->

  <group>
    <csv>
      <param name="input-file" value="countries-dbpedia.csv"/>
      <param name="header-line" value="false"/>
      
      <column name="1" property="ID"/>
      <column name="2"
              property="NAME"
              cleaner="no.priv.garshol.duke.examples.CountryNameCleaner"/>
      <column name="3"
              property="AREA"/>
      <column name="4"
              property="CAPITAL"
              cleaner="no.priv.garshol.duke.examples.CapitalCleaner"/>
    </csv>
  </group>

  <group>
    <csv>
      <param name="input-file" value="countries-mondial.csv"/>
      
      <column name="id" property="ID"/>
      <column name="country"
              property="NAME"
              cleaner="no.priv.garshol.duke.examples.CountryNameCleaner"/>
      <column name="capital"
              property="CAPITAL"
              cleaner="no.priv.garshol.duke.cleaners.LowerCaseNormalizeCleaner"/>
      <column name="area"
              property="AREA"/>
    </csv>
  </group>
</duke>